# Print Configuration

**–ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã** –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–µ—á–∞—Ç–∏, —Ä–∞–∑–º–µ—Ä–æ–≤ —Å—Ç—Ä–∞–Ω–∏—Ü –∏ –µ–¥–∏–Ω–∏—Ü –∏–∑–º–µ—Ä–µ–Ω–∏—è.

## üìÑ –≠—Ç–æ—Ç —Ñ–∞–π–ª –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:

- **Python Backend:** `idml_export/constants.py` –∑–∞–≥—Ä—É–∂–∞–µ—Ç —á–µ—Ä–µ–∑ `json.load()` –∏–∑ `/Users/adoknov/work/tg/tg-offliner/print-config.json`
- **JavaScript Frontend:** `app/utils/units.js` –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç —á–µ—Ä–µ–∑ `import config from '~/print-config.json'` –∏–∑ `tg-offliner-frontend/print-config.json`

‚ö†Ô∏è **–í–ê–ñ–ù–û:** –§–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ **–î–í–£–• –º–µ—Å—Ç–∞—Ö**:
1. **–ö–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞** (`print-config.json`) - –¥–ª—è Python backend
2. **–ö–æ—Ä–µ–Ω—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞** (`tg-offliner-frontend/print-config.json`) - –¥–ª—è Nuxt/Vue
3. **Public —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞** (`tg-offliner-frontend/public/print-config.json`) - –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

–ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ **—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–π –≤—Å–µ —Ç—Ä–∏ –∫–æ–ø–∏–∏**!

## üéØ –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?

–í–º–µ—Å—Ç–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç –≤ —Ä–∞–∑–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö (Python –∏ JavaScript), –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ–¥–∏–Ω JSON –∫–æ–Ω—Ñ–∏–≥, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–Ω–∏–º–∞—é—Ç –æ–±–∞ —è–∑—ã–∫–∞.

## üìê –ï–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è

### –†–∞–∑–º–µ—Ä—ã —Å—Ç—Ä–∞–Ω–∏—Ü (`pageSizes`)
–í—Å–µ —Ä–∞–∑–º–µ—Ä—ã –≤ **–º–∏–ª–ª–∏–º–µ—Ç—Ä–∞—Ö (mm)**:
- `A4`: 210 √ó 297 –º–º
- `A3`: 297 √ó 420 –º–º
- `USLetter`: 215.9 √ó 279.4 –º–º (8.5 √ó 11‚Ä≥)
- `Tabloid`: 279.4 √ó 431.8 –º–º (11 √ó 17‚Ä≥)

### –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ (`conversion`)
- `mmToPoints`: 2.83465 ‚Äî –¥–ª—è InDesign (1mm = 2.83465 points)
- `mmToPx`: 3.7795275591 ‚Äî –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞ –ø—Ä–∏ 96 DPI (1mm = 3.7795... px)

### –ì–¥–µ –∫–∞–∫–∏–µ –µ–¥–∏–Ω–∏—Ü—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è:

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ï–¥–∏–Ω–∏—Ü–∞ | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|-----------|---------|------------|
| **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** | –º–∏–ª–ª–∏–º–µ—Ç—Ä—ã (mm) | `Channel.print_settings` —Ö—Ä–∞–Ω–∏—Ç margins –≤ –º–º |
| **Frontend CSS** | –º–∏–ª–ª–∏–º–µ—Ç—Ä—ã (mm) | `--preview-height: 297mm` |
| **PDF (WeasyPrint)** | –º–∏–ª–ª–∏–º–µ—Ç—Ä—ã (mm) | `@page { size: A4; margin: 20mm; }` |
| **IDML (InDesign)** | points (pt) | –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è: `mm_to_points(210)` ‚Üí 595.28pt |

## üîß –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**–ß—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å —Ä–∞–∑–º–µ—Ä A4, –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –∏–ª–∏ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ margins:**

1. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π —ç—Ç–æ—Ç —Ñ–∞–π–ª (`print-config.json`)
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ backend: `docker compose restart app`
3. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

**–ù–ï —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π:**
- ‚ùå `idml_export/constants.py` ‚Äî —á–∏—Ç–∞–µ—Ç –∏–∑ —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞
- ‚ùå `app/utils/units.js` ‚Äî –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –∏–∑ —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞
- ‚ùå `app/components/system/PrintSettingsSidebar.vue` ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç units.js

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### Python:
```python
from idml_export.constants import PAGE_SIZES, mm_to_points

# –ü–æ–ª—É—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä A4 –≤ –º–º
page_size = PAGE_SIZES['A4']  # {'width': 210, 'height': 297}

# –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ points –¥–ª—è InDesign
width_pt = mm_to_points(page_size['width'])  # 595.28
```

### JavaScript:
```javascript
import { PAGE_SIZES, mmToPoints } from '~/utils/units'

// –ü–æ–ª—É—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä A4 –≤ –º–º
const pageSize = PAGE_SIZES.A4  // {width: 210, height: 297}

// –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ points
const widthPt = mmToPoints(pageSize.width)  // 595.28
```

## üö® –í–∞–∂–Ω–æ

- –í—Å–µ margins –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏ –∫–æ–Ω—Ñ–∏–≥–µ –≤ **–º–∏–ª–ª–∏–º–µ—Ç—Ä–∞—Ö**
- WeasyPrint –ø–æ–Ω–∏–º–∞–µ—Ç —Å—Ç—Ä–æ–∫–æ–≤—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã: `size: A4`
- InDesign —Ç—Ä–µ–±—É–µ—Ç —Ä–∞–∑–º–µ—Ä—ã –≤ points, –∏—Å–ø–æ–ª—å–∑—É–π —Ñ—É–Ω–∫—Ü–∏–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏
- –≠—Ç–æ—Ç —Ñ–∞–π–ª ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –º–µ—Å—Ç–æ –≥–¥–µ –º–µ–Ω—è—é—Ç—Å—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã!
