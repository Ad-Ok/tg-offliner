@import url('https://fonts.googleapis.com/css2?family=Roboto&display=swap');
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Дефолтные настройки @page для PDF, будут переопределены inline стилями из БД */
@page {
  size: A4;
  margin: 20mm;
}

@layer components {
  .post-message {
    p:not(:last-child) {
      margin-bottom: 1em;
    }
  }

  .post-media.single-image img {
    max-width: 100%;
    width: auto;
    height: auto;
    object-fit: contain;
    page-break-inside: avoid;
    break-inside: avoid;
  }
  
  /* Запрещаем разрыв галерей на страницы */
  .gallery-container,
  .media-grid {
    page-break-inside: avoid;
    break-inside: avoid;
  }
  
  /* Ограничиваем высоту картинок для разных форматов страниц */
  /* Формула: высота страницы - 80mm (margins + отступы) */
  
  .page-format-a4 .post-media.single-image img {
    max-height: 217mm;
  }
  
  .page-format-a3 .post-media.single-image img {
    max-height: 340mm;
  }
  
  .page-format-usletter .post-media.single-image img {
    max-height: 199.4mm;
  }
  
  .page-format-tabloid .post-media.single-image img {
    max-height: 351.8mm;
  }

  .break-before-page {
    page-break-before: always;
    break-before: page;
  }
}

